<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전기차 모터 기술 동향</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        .chart-container {
            position: relative;
            height: 300px;
            max-height: 400px;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            max-width: 600px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-12 animate-fadeIn">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">🚗 전기차 모터 기술 동향 대시보드</h1>
            <p class="text-lg text-gray-600">최신 뉴스, 시장 데이터, 그리고 기술 동향을 한눈에 확인하세요.</p>
            <p id="last-updated" class="text-sm mt-2 text-gray-500">최종 업데이트: 로딩 중...</p>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <section id="news-section" class="lg:col-span-2 bg-white rounded-xl shadow-lg p-6 animate-fadeIn">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-semibold text-gray-900">최신 기술 뉴스</h2>
                </div>
                <div id="news-container" class="space-y-4">
                    </div>
            </section>

            <aside class="space-y-8">
                <section id="graphs-section" class="bg-white rounded-xl shadow-lg p-6 animate-fadeIn">
                    <h2 class="text-2xl font-semibold text-gray-900 mb-6">주요 시장 지표</h2>
                    <div class="space-y-8">
                        <div>
                            <h3 class="text-lg font-medium text-gray-700 mb-2">연간 시장 규모 (단위: 10억 달러)</h3>
                            <div class="chart-container">
                                <canvas id="yearlyMarketChart"></canvas>
                            </div>
                            <p id="yearly-market-source" class="text-xs text-gray-500 mt-2 text-center">출처: 로딩 중...</p>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-gray-700 mb-2">국가별 시장 점유율 (%)</h3>
                            <div class="chart-container">
                                <canvas id="countryShareChart"></canvas>
                            </div>
                            <p id="country-share-source" class="text-xs text-gray-500 mt-2 text-center">출처: 로딩 중...</p>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium text-gray-700 mb-2">주요 기업 시장 점유율 (%)</h3>
                            <div class="chart-container">
                                <canvas id="companyShareChart"></canvas>
                            </div>
                            <p id="company-share-source" class="text-xs text-gray-500 mt-2 text-center">출처: 로딩 중...</p>
                        </div>
                    </div>
                </section>
            </aside>
        </main>
    </div>

    <script>
        const API_URL = "https://raw.githubusercontent.com/YOUR_GITHUB_USERNAME/YOUR_REPOSITORY_NAME/main/news_data.json";

        function updateCharts(graphData) {
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            };

            const yearlyMarketCtx = document.getElementById('yearlyMarketChart').getContext('2d');
            new Chart(yearlyMarketCtx, {
                type: 'bar',
                data: {
                    labels: graphData.yearly_market_size.labels,
                    datasets: [{
                        label: '시장 규모',
                        data: graphData.yearly_market_size.data,
                        backgroundColor: 'rgba(59, 130, 246, 0.6)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1
                    }]
                },
                options: chartOptions
            });
            document.getElementById('yearly-market-source').textContent = graphData.yearly_market_size.source;

            const countryShareCtx = document.getElementById('countryShareChart').getContext('2d');
            new Chart(countryShareCtx, {
                type: 'doughnut',
                data: {
                    labels: graphData.country_market_share.labels,
                    datasets: [{
                        label: '시장 점유율',
                        data: graphData.country_market_share.data,
                        backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            'rgb(255, 205, 86)',
                            'rgb(75, 192, 192)',
                            'rgb(153, 102, 255)'
                        ],
                        hoverOffset: 4
                    }]
                },
                options: { ...chartOptions, scales: {} }
            });
            document.getElementById('country-share-source').textContent = graphData.country_market_share.source;

            const companyShareCtx = document.getElementById('companyShareChart').getContext('2d');
            new Chart(companyShareCtx, {
                type: 'pie',
                data: {
                    labels: graphData.company_market_share.labels,
                    datasets: [{
                        label: '시장 점유율',
                        data: graphData.company_market_share.data,
                        backgroundColor: [
                            'rgb(255, 159, 64)',
                            'rgb(255, 99, 132)',
                            'rgb(75, 192, 192)',
                            'rgb(153, 102, 255)'
                        ],
                        hoverOffset: 4
                    }]
                },
                options: { ...chartOptions, scales: {} }
            });
            document.getElementById('company-share-source').textContent = graphData.company_market_share.source;
        }

        function updateNews(newsData) {
            const newsContainer = document.getElementById('news-container');
            newsContainer.innerHTML = ''; // Clear previous news
            newsData.forEach(item => {
                const newsItemDiv = document.createElement('div');
                newsItemDiv.className = 'bg-gray-50 p-4 rounded-lg shadow-sm transition-all duration-300 hover:bg-gray-100 animate-fadeIn';
                newsItemDiv.innerHTML = `
                    <h3 class="font-semibold text-lg text-gray-900 mb-1">
                        <a href="${item.link}" target="_blank" class="hover:text-blue-600 transition-colors duration-200">${item.title}</a>
                    </h3>
                    <p class="text-gray-600 text-sm mb-2">${item.summary}</p>
                    <div class="flex justify-between items-center text-xs text-gray-500">
                        <span>${item.source}</span>
                        <span>${new Date(item.timestamp).toLocaleString()}</span>
                    </div>
                `;
                newsContainer.appendChild(newsItemDiv);
            });
        }
        
        async function fetchData() {
            try {
                const response = await fetch(API_URL);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                
                updateNews(data.news);
                updateCharts(data.graphs);
                document.getElementById('last-updated').textContent = `최종 업데이트: ${new Date(data.last_updated).toLocaleString()}`;
            } catch (error) {
                console.error("데이터를 가져오는 중 오류 발생:", error);
                document.getElementById('last-updated').textContent = "최종 업데이트: 오류 발생";
            }
        }
        
        window.onload = fetchData;
    </script>
</body>
</html>
```eof
